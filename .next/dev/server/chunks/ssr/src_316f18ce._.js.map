{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/anastasiapetrova/WebstormProjects/Todol/src/lib/api.ts"],"sourcesContent":["const API_BASE_URL = 'http://localhost:8000/api.php';\n\nexport interface Todo {\n    id: number;\n    title: string;\n    description?: string;\n    completed: boolean;\n    sphere_id?: number;\n    created_at: string;\n    updated_at: string;\n}\n\nexport interface CreateTodoRequest {\n    title: string;\n    description?: string;\n    completed?: boolean;\n    sphere_id?: number;\n}\n\nexport interface UpdateTodoRequest {\n    title?: string;\n    description?: string;\n    completed?: boolean;\n}\n\nclass ApiService {\n    private getAuthToken(): string | null {\n        if (typeof window === 'undefined') return null;\n        return localStorage.getItem('auth_token');\n    }\n\n    private async request<T>(\n        endpoint: string,\n        options: RequestInit = {}\n    ): Promise<T> {\n        const url = `${API_BASE_URL}${endpoint}`;\n        const token = this.getAuthToken();\n        \n        const config: RequestInit = {\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json',\n                ...(token && { 'Authorization': `Bearer ${token}` }),\n                ...options.headers,\n            },\n            ...options,\n        };\n\n        try {\n            const response = await fetch(url, config);\n            \n            if (!response.ok) {\n                if (response.status === 401) {\n                    // –¢–æ–∫–µ–Ω –∏—Å—Ç–µ–∫, —É–¥–∞–ª—è–µ–º –µ–≥–æ –∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞\n                    if (typeof window !== 'undefined') {\n                        localStorage.removeItem('auth_token');\n                        localStorage.removeItem('user');\n                        window.location.href = '/login';\n                    }\n                }\n                \n                const errorText = await response.text();\n                throw new Error(`API Error: ${response.status} - ${errorText}`);\n            }\n            \n            // –î–ª—è DELETE –∑–∞–ø—Ä–æ—Å–æ–≤ —Å 204 —Å—Ç–∞—Ç—É—Å–æ–º –≤–æ–∑–≤—Ä–∞—â–∞–µ–º null\n            if (response.status === 204) {\n                return null as T;\n            }\n            \n            return await response.json();\n        } catch (error) {\n            console.error('API Request failed:', error);\n            throw error;\n        }\n    }\n\n    // –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–¥–∞—á–∏\n    async getTodos(sphereId?: number): Promise<Todo[]> {\n        try {\n            let url = '/todos';\n            \n            // –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω sphereId, —Ñ–∏–ª—å—Ç—Ä—É–µ–º –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ (–ø–æ—Å–∫–æ–ª—å–∫—É API –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é)\n            const todos = await this.request<Todo[]>(url);\n            \n            if (sphereId) {\n                return todos.filter(todo => todo.sphere_id === sphereId);\n            }\n            \n            return todos;\n        } catch (error) {\n            console.error('Failed to fetch todos:', error);\n            // –í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ API –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤\n            return [];\n        }\n    }\n\n    // –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É\n    async createTodo(todo: CreateTodoRequest): Promise<Todo> {\n        return this.request<Todo>('/todos', {\n            method: 'POST',\n            body: JSON.stringify(todo),\n        });\n    }\n\n    // –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–¥–∞—á—É\n    async updateTodo(id: number, updates: UpdateTodoRequest): Promise<Todo> {\n        return this.request<Todo>(`/todos/${id}`, {\n            method: 'PUT',\n            body: JSON.stringify(updates),\n        });\n    }\n\n    // –£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É\n    async deleteTodo(id: number): Promise<void> {\n        return this.request<void>(`/todos/${id}`, {\n            method: 'DELETE',\n        });\n    }\n\n    // –ü–æ–ª—É—á–∏—Ç—å –æ–¥–Ω—É –∑–∞–¥–∞—á—É\n    async getTodo(id: number): Promise<Todo> {\n        return this.request<Todo>(`/todos/${id}`);\n    }\n}\n\nexport const apiService = new ApiService();\n\n// –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å localStorage –∫–∞–∫ fallback\nexport const localStorageService = {\n    getTodos: (sphereId: number): any[] => {\n        if (typeof window === 'undefined') return [];\n        const tasks = localStorage.getItem(`sphere_${sphereId}_tasks`);\n        if (!tasks) return [];\n        try {\n            return JSON.parse(tasks);\n        } catch {\n            return [];\n        }\n    },\n\n    saveTodos: (sphereId: number, todos: any[]): void => {\n        if (typeof window === 'undefined') return;\n        localStorage.setItem(`sphere_${sphereId}_tasks`, JSON.stringify(todos));\n        // –¢—Ä–∏–≥–≥–µ—Ä –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤\n        window.dispatchEvent(new Event('taskUpdated'));\n    },\n\n    // –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –º–µ–∂–¥—É —Ñ–æ—Ä–º–∞—Ç–∞–º–∏ API –∏ localStorage\n    apiToLocalStorage: (apiTodos: Todo[], sphereId: number): any[] => {\n        return apiTodos.map(todo => ({\n            id: todo.id.toString(),\n            description: todo.title,\n            isCompleted: todo.completed,\n            subtasks: todo.description ? [{\n                id: `sub-${todo.id}`,\n                description: todo.description,\n                isCompleted: todo.completed\n            }] : []\n        }));\n    },\n\n    localStorageToApi: (localTodos: any[]): CreateTodoRequest[] => {\n        return localTodos.map(todo => ({\n            title: todo.description,\n            description: todo.subtasks?.[0]?.description || '',\n            completed: todo.isCompleted\n        }));\n    }\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 133, "column": 0}, "map": {"version":3,"sources":["file:///Users/anastasiapetrova/WebstormProjects/Todol/src/hooks/useTodos.ts"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { apiService, Todo, CreateTodoRequest, UpdateTodoRequest, localStorageService } from '@/lib/api';\n\ninterface UseTodosOptions {\n    sphereId: number;\n    useApi?: boolean; // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å API –∏–ª–∏ localStorage\n}\n\nexport function useTodos({ sphereId, useApi = true }: UseTodosOptions) {\n    const [todos, setTodos] = useState<Todo[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState<string | null>(null);\n\n    // –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–¥–∞—á\n    const loadTodos = useCallback(async () => {\n        setLoading(true);\n        setError(null);\n        \n        try {\n            if (useApi) {\n                const apiTodos = await apiService.getTodos(sphereId);\n                setTodos(apiTodos);\n                \n                // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å localStorage –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏\n                const localTodos = localStorageService.apiToLocalStorage(apiTodos, sphereId);\n                localStorageService.saveTodos(sphereId, localTodos);\n            } else {\n                // Fallback –Ω–∞ localStorage\n                const localTodos = localStorageService.getTodos(sphereId);\n                const apiTodos = localStorageService.localStorageToApi(localTodos);\n                setTodos(apiTodos as Todo[]);\n            }\n        } catch (err) {\n            const errorMessage = err instanceof Error ? err.message : 'Failed to load todos';\n            setError(errorMessage);\n            \n            // –í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º localStorage –∫–∞–∫ fallback\n            if (useApi) {\n                const localTodos = localStorageService.getTodos(sphereId);\n                const apiTodos = localStorageService.localStorageToApi(localTodos);\n                setTodos(apiTodos as Todo[]);\n            }\n        } finally {\n            setLoading(false);\n        }\n    }, [sphereId, useApi]);\n\n    // –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏\n    const createTodo = useCallback(async (todoData: CreateTodoRequest) => {\n        try {\n            if (useApi) {\n                // –î–æ–±–∞–≤–ª—è–µ–º sphere_id –∫ –¥–∞–Ω–Ω—ã–º –∑–∞–¥–∞—á–∏\n                const todoWithSphere = {\n                    ...todoData,\n                    sphere_id: sphereId\n                };\n                \n                const newTodo = await apiService.createTodo(todoWithSphere);\n                setTodos(prev => [newTodo, ...prev]);\n                \n                // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å localStorage\n                const localTodos = localStorageService.apiToLocalStorage([newTodo, ...todos], sphereId);\n                localStorageService.saveTodos(sphereId, localTodos);\n                \n                // –¢—Ä–∏–≥–≥–µ—Ä –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ dashboard\n                window.dispatchEvent(new Event('taskUpdated'));\n                \n                return newTodo;\n            } else {\n                // –î–ª—è localStorage –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –ª–æ–≥–∏–∫—É\n                const newId = Date.now();\n                const newTodo: Todo = {\n                    id: newId,\n                    title: todoData.title,\n                    description: todoData.description,\n                    completed: todoData.completed || false,\n                    sphere_id: sphereId,\n                    created_at: new Date().toISOString(),\n                    updated_at: new Date().toISOString()\n                };\n                setTodos(prev => [newTodo, ...prev]);\n                \n                const localTodos = localStorageService.apiToLocalStorage([newTodo, ...todos], sphereId);\n                localStorageService.saveTodos(sphereId, localTodos);\n                \n                // –¢—Ä–∏–≥–≥–µ—Ä –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ dashboard\n                window.dispatchEvent(new Event('taskUpdated'));\n                \n                return newTodo;\n            }\n        } catch (err) {\n            const errorMessage = err instanceof Error ? err.message : 'Failed to create todo';\n            setError(errorMessage);\n            throw err;\n        }\n    }, [sphereId, useApi, todos]);\n\n    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏\n    const updateTodo = useCallback(async (id: number, updates: UpdateTodoRequest) => {\n        try {\n            if (useApi) {\n                const updatedTodo = await apiService.updateTodo(id, updates);\n                setTodos(prev => prev.map(todo => \n                    todo.id === id ? updatedTodo : todo\n                ));\n                \n                // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å localStorage\n                const updatedTodos = todos.map(todo => \n                    todo.id === id ? updatedTodo : todo\n                );\n                const localTodos = localStorageService.apiToLocalStorage(updatedTodos, sphereId);\n                localStorageService.saveTodos(sphereId, localTodos);\n                \n                // –¢—Ä–∏–≥–≥–µ—Ä –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ dashboard\n                window.dispatchEvent(new Event('taskUpdated'));\n                \n                return updatedTodo;\n            } else {\n                const updatedTodo: Todo = {\n                    ...todos.find(t => t.id === id)!,\n                    ...updates,\n                    updated_at: new Date().toISOString()\n                };\n                setTodos(prev => prev.map(todo => \n                    todo.id === id ? updatedTodo : todo\n                ));\n                \n                const updatedTodos = todos.map(todo => \n                    todo.id === id ? updatedTodo : todo\n                );\n                const localTodos = localStorageService.apiToLocalStorage(updatedTodos, sphereId);\n                localStorageService.saveTodos(sphereId, localTodos);\n                \n                // –¢—Ä–∏–≥–≥–µ—Ä –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ dashboard\n                window.dispatchEvent(new Event('taskUpdated'));\n                \n                return updatedTodo;\n            }\n        } catch (err) {\n            const errorMessage = err instanceof Error ? err.message : 'Failed to update todo';\n            setError(errorMessage);\n            throw err;\n        }\n    }, [sphereId, useApi, todos]);\n\n    // –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏\n    const deleteTodo = useCallback(async (id: number) => {\n        try {\n            if (useApi) {\n                await apiService.deleteTodo(id);\n                setTodos(prev => prev.filter(todo => todo.id !== id));\n                \n                // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å localStorage\n                const updatedTodos = todos.filter(todo => todo.id !== id);\n                const localTodos = localStorageService.apiToLocalStorage(updatedTodos, sphereId);\n                localStorageService.saveTodos(sphereId, localTodos);\n                \n                // –¢—Ä–∏–≥–≥–µ—Ä –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ dashboard\n                window.dispatchEvent(new Event('taskUpdated'));\n            } else {\n                setTodos(prev => prev.filter(todo => todo.id !== id));\n                \n                const updatedTodos = todos.filter(todo => todo.id !== id);\n                const localTodos = localStorageService.apiToLocalStorage(updatedTodos, sphereId);\n                localStorageService.saveTodos(sphereId, localTodos);\n                \n                // –¢—Ä–∏–≥–≥–µ—Ä –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ dashboard\n                window.dispatchEvent(new Event('taskUpdated'));\n            }\n        } catch (err) {\n            const errorMessage = err instanceof Error ? err.message : 'Failed to delete todo';\n            setError(errorMessage);\n            throw err;\n        }\n    }, [sphereId, useApi, todos]);\n\n    // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è\n    const toggleTodo = useCallback(async (id: number) => {\n        const todo = todos.find(t => t.id === id);\n        if (!todo) return;\n        \n        return updateTodo(id, { completed: !todo.completed });\n    }, [todos, updateTodo]);\n\n    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏\n    useEffect(() => {\n        loadTodos();\n    }, [loadTodos]);\n\n    // –°–ª—É—à–∞—Ç–µ–ª—å —Å–æ–±—ã—Ç–∏–π localStorage –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏\n    useEffect(() => {\n        const handleStorageChange = () => {\n            if (!useApi) {\n                loadTodos();\n            }\n        };\n        \n        window.addEventListener('taskUpdated', handleStorageChange);\n        window.addEventListener('storage', handleStorageChange);\n        \n        return () => {\n            window.removeEventListener('taskUpdated', handleStorageChange);\n            window.removeEventListener('storage', handleStorageChange);\n        };\n    }, [loadTodos, useApi]);\n\n    return {\n        todos,\n        loading,\n        error,\n        createTodo,\n        updateTodo,\n        deleteTodo,\n        toggleTodo,\n        refreshTodos: loadTodos\n    };\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 353, "column": 0}, "map": {"version":3,"sources":["file:///Users/anastasiapetrova/WebstormProjects/Todol/src/app/areas/1/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useRouter } from \"next/navigation\";\nimport { useState, useRef, useEffect } from \"react\";\nimport { useTodos } from \"@/hooks/useTodos\";\nimport \"../../../styles/relations.css\";\n\nconst relationsSphereConfig = {\n    title: \"–û—Ç–Ω–æ—à–µ–Ω–∏—è\",\n    icon: \"üíï\",\n    accentColor: \"#ec4899\"\n} as const;\n\ntype SubTaskItem = {\n    id: number;\n    description: string;\n    isCompleted: boolean\n};\n\ntype MainTask = {\n    id: number;\n    description: string;\n    isCompleted: boolean;\n    subtasks: SubTaskItem[];\n    areSubtasksVisible: boolean;\n};\n\nexport default function RelationsSphere() {\n    const router = useRouter();\n    const [newMainTaskDescription, setNewMainTaskDescription] = useState(\"\");\n    const [newSubTaskDescription, setNewSubTaskDescription] = useState(\"\");\n    const [expandedTasks, setExpandedTasks] = useState<Set<number>>(new Set());\n    \n    // –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–∞—à –Ω–æ–≤—ã–π —Ö—É–∫ —Å API\n    const { todos, loading, error, createTodo, updateTodo, deleteTodo, toggleTodo } = useTodos({ \n        sphereId: 1, \n        useApi: true \n    });\n\n    // –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è API —Ñ–æ—Ä–º–∞—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞\n    const mainTasksList: MainTask[] = todos.map(todo => ({\n        id: todo.id,\n        description: todo.title,\n        isCompleted: todo.completed,\n        subtasks: todo.description ? [{\n            id: todo.id + 1000, // —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –¥–ª—è –ø–æ–¥–∑–∞–¥–∞—á–∏\n            description: todo.description,\n            isCompleted: todo.completed\n        }] : [],\n        areSubtasksVisible: expandedTasks.has(todo.id)\n    }));\n\n    const createMainTask = async () => {\n        if (newMainTaskDescription.trim()) {\n            try {\n                await createTodo({\n                    title: newMainTaskDescription,\n                    description: \"\",\n                    completed: false\n                });\n                setNewMainTaskDescription(\"\");\n            } catch (err) {\n                console.error(\"Failed to create task:\", err);\n                // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ\n            }\n        }\n    };\n\n    const createSubTask = async (parentTaskId: number) => {\n        if (newSubTaskDescription.trim()) {\n            try {\n                const parentTodo = todos.find(t => t.id === parentTaskId);\n                if (parentTodo) {\n                    await updateTodo(parentTaskId, {\n                        title: parentTodo.title,\n                        description: newSubTaskDescription\n                    });\n                }\n                setNewSubTaskDescription(\"\");\n            } catch (err) {\n                console.error(\"Failed to create subtask:\", err);\n            }\n        }\n    };\n\n    const toggleMainTaskCompletion = async (taskId: number) => {\n        try {\n            await toggleTodo(taskId);\n        } catch (err) {\n            console.error(\"Failed to toggle task:\", err);\n        }\n    };\n\n    const toggleSubTaskCompletion = async (parentTaskId: number, subTaskId: number) => {\n        try {\n            const parentTodo = todos.find(t => t.id === parentTaskId);\n            if (parentTodo) {\n                await updateTodo(parentTaskId, {\n                    ...parentTodo,\n                    completed: !parentTodo.completed\n                });\n            }\n        } catch (err) {\n            console.error(\"Failed to toggle subtask:\", err);\n        }\n    };\n\n    const toggleSubtasksVisibility = (taskId: number) => {\n        setExpandedTasks(prev => {\n            const newSet = new Set(prev);\n            if (newSet.has(taskId)) {\n                newSet.delete(taskId);\n            } else {\n                newSet.add(taskId);\n            }\n            return newSet;\n        });\n    };\n\n    const removeMainTask = async (taskId: number) => {\n        try {\n            await deleteTodo(taskId);\n        } catch (err) {\n            console.error(\"Failed to delete task:\", err);\n        }\n    };\n\n    const removeSubTask = async (parentTaskId: number, subTaskId: number) => {\n        try {\n            const parentTodo = todos.find(t => t.id === parentTaskId);\n            if (parentTodo) {\n                await updateTodo(parentTaskId, {\n                    ...parentTodo,\n                    description: \"\"\n                });\n            }\n        } catch (err) {\n            console.error(\"Failed to remove subtask:\", err);\n        }\n    };\n\n    const moveTask = (dragIndex: number, dropIndex: number) => {\n        // Drag & drop –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–∑–∂–µ —Å API\n        if (dragIndex === dropIndex) return;\n        console.log('Drag and drop not implemented with API yet');\n    };\n\n    const handleDragStart = (e: React.DragEvent, index: number) => {\n        e.dataTransfer.setData('text/plain', index.toString());\n        e.dataTransfer.effectAllowed = 'move';\n    };\n\n    const handleDragOver = (e: React.DragEvent) => {\n        e.preventDefault();\n        e.dataTransfer.dropEffect = 'move';\n    };\n\n    const handleDrop = (e: React.DragEvent, dropIndex: number) => {\n        e.preventDefault();\n        const dragIndex = parseInt(e.dataTransfer.getData('text/plain'));\n        moveTask(dragIndex, dropIndex);\n    };\n\n    if (loading) {\n        return (\n            <div className=\"sphere-page\">\n                <div className=\"bg-aurora\" />\n                <header className=\"header-simple\">\n                    <button className=\"back-btn\" onClick={() => router.back()}>\n                        ‚Üê\n                    </button>\n                    <div className=\"hero-compact\">\n                        <div className=\"hero-icon\">{relationsSphereConfig.icon}</div>\n                        <h1>{relationsSphereConfig.title}</h1>\n                    </div>\n                </header>\n                <main className=\"main-content\">\n                    <div className=\"loading-state\">\n                        <p>–ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–¥–∞—á...</p>\n                    </div>\n                </main>\n            </div>\n        );\n    }\n\n    if (error) {\n        return (\n            <div className=\"sphere-page\">\n                <div className=\"bg-aurora\" />\n                <header className=\"header-simple\">\n                    <button className=\"back-btn\" onClick={() => router.back()}>\n                        ‚Üê\n                    </button>\n                    <div className=\"hero-compact\">\n                        <div className=\"hero-icon\">{relationsSphereConfig.icon}</div>\n                        <h1>{relationsSphereConfig.title}</h1>\n                    </div>\n                </header>\n                <main className=\"main-content\">\n                    <div className=\"error-state\">\n                        <p>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: {error}</p>\n                        <button onClick={() => window.location.reload()}>\n                            –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞\n                        </button>\n                    </div>\n                </main>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"sphere-page\">\n            <div className=\"bg-aurora\" />\n            <header className=\"header-simple\">\n                <button className=\"back-btn\" onClick={() => router.back()}>\n                    ‚Üê\n                </button>\n                <div className=\"hero-compact\">\n                    <div className=\"hero-icon\">{relationsSphereConfig.icon}</div>\n                    <h1>{relationsSphereConfig.title}</h1>\n                </div>\n            </header>\n\n            <main className=\"main-content\">\n                <div className=\"tasks-container\">\n                    {mainTasksList.length === 0 ? (\n                        <div className=\"empty-state\">\n                            <p>–°–æ–∑–¥–∞–π –ø–µ—Ä–≤—É—é –∑–∞–¥–∞—á—É</p>\n                        </div>\n                    ) : (\n                        <div className=\"tasks-scrollable\">\n                            <ul className=\"tasks-list\">\n                                {mainTasksList.map((task, index) => (\n                                    <li \n                                        key={task.id} \n                                        className=\"task-item\"\n                                        draggable\n                                        onDragStart={(e) => handleDragStart(e, index)}\n                                        onDragOver={handleDragOver}\n                                        onDrop={(e) => handleDrop(e, index)}\n                                    >\n                                        <div className=\"task-main\">\n                                            <label className=\"task-checkbox\">\n                                                <input\n                                                    type=\"checkbox\"\n                                                    checked={task.isCompleted}\n                                                    onChange={() =>\n                                                        toggleMainTaskCompletion(task.id)\n                                                    }\n                                                />\n                                                <span className=\"custom-checkbox\" />\n                                                <span\n                                                    className={`task-text ${\n                                                        task.isCompleted ? \"done\" : \"\"\n                                                    }`}\n                                                >\n                                                    {task.description}\n                                                    {task.subtasks.length > 0 && (\n                                                        <span\n                                                            style={{\n                                                                opacity: 0.7,\n                                                                fontSize: \"0.8em\",\n                                                                marginLeft: \"0.5rem\",\n                                                                fontWeight: 500\n                                                            }}\n                                                        >\n                                                            ({task.subtasks.length})\n                                                        </span>\n                                                    )}\n                                                </span>\n                                            </label>\n                                            <div className=\"task-actions\">\n                                                <button\n                                                    className=\"subtasks-toggle\"\n                                                    onClick={() =>\n                                                        toggleSubtasksVisibility(task.id)\n                                                    }\n                                                >\n                                                    {task.areSubtasksVisible ? \"‚àí\" : \"+\"}\n                                                </button>\n                                                <button\n                                                    className=\"delete-btn\"\n                                                    onClick={() =>\n                                                        removeMainTask(task.id)\n                                                    }\n                                                >\n                                                    √ó\n                                                </button>\n                                            </div>\n                                        </div>\n                                        <div\n                                            className={`subtasks-content ${\n                                                task.areSubtasksVisible ? \"expanded\" : \"\"\n                                            }`}\n                                        >\n                                            {task.subtasks.length > 0 && (\n                                                <ul className=\"subtasks-list\">\n                                                    {task.subtasks.map(subTask => (\n                                                        <li\n                                                            key={subTask.id}\n                                                            className=\"subtask-item\"\n                                                        >\n                                                            <label className=\"subtask-checkbox\">\n                                                                <input\n                                                                    type=\"checkbox\"\n                                                                    checked={\n                                                                        subTask.isCompleted\n                                                                    }\n                                                                    onChange={() =>\n                                                                        toggleSubTaskCompletion(\n                                                                            task.id,\n                                                                            subTask.id\n                                                                        )\n                                                                    }\n                                                                />\n                                                                <span className=\"custom-subcheckbox\" />\n                                                                <span\n                                                                    className={`subtask-text ${\n                                                                        subTask.isCompleted\n                                                                            ? \"done\"\n                                                                            : \"\"\n                                                                    }`}\n                                                                >\n                                                                    {subTask.description}\n                                                                </span>\n                                                            </label>\n                                                            <button\n                                                                className=\"delete-sub-btn\"\n                                                                onClick={() =>\n                                                                    removeSubTask(\n                                                                        task.id,\n                                                                        subTask.id\n                                                                    )\n                                                                }\n                                                            >\n                                                                √ó\n                                                            </button>\n                                                        </li>\n                                                    ))}\n                                                </ul>\n                                            )}\n\n                                            <div className=\"add-subtask-section\">\n                                                <input\n                                                    className=\"subtask-input\"\n                                                    value={newSubTaskDescription}\n                                                    onChange={e =>\n                                                        setNewSubTaskDescription(\n                                                            e.target.value\n                                                        )\n                                                    }\n                                                    placeholder=\"–ü–æ–¥–∑–∞–¥–∞—á–∞...\"\n                                                    onKeyDown={e =>\n                                                        e.key === \"Enter\" &&\n                                                        createSubTask(task.id)\n                                                    }\n                                                />\n                                                <button\n                                                    className=\"add-sub-btn\"\n                                                    onClick={() =>\n                                                        createSubTask(task.id)\n                                                    }\n                                                >\n                                                    –î–æ–±–∞–≤–∏—Ç—å\n                                                </button>\n                                            </div>\n                                        </div>\n                                    </li>\n                                ))}\n                            </ul>\n                        </div>\n                    )}\n                </div>\n\n                <div className=\"add-task-section\">\n                    <input\n                        className=\"task-input\"\n                        value={newMainTaskDescription}\n                        onChange={e =>\n                            setNewMainTaskDescription(e.target.value)\n                        }\n                        placeholder=\"–ù–∞–ø—Ä–∏–º–µ—Ä: –ü–æ–∑–≤–æ–Ω–∏—Ç—å –≤ –æ–±–µ–¥\"\n                        onKeyDown={e => e.key === \"Enter\" && createMainTask()}\n                    />\n                    <button className=\"add-btn\" onClick={createMainTask}>\n                        –î–æ–±–∞–≤–∏—Ç—å\n                    </button>\n                </div>\n            </main>\n        </div>\n    );\n}"],"names":[],"mappings":"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"}}]
}