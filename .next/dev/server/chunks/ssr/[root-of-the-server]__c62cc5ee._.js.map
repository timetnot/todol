{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/anastasiapetrova/WebstormProjects/Todol/src/components/Header.tsx"],"sourcesContent":["\"use client\";\n\nimport { useRouter } from \"next/navigation\";\nimport { useState, useEffect } from \"react\";\n\nexport default function Header() {\n    const router = useRouter();\n    const [isAuthenticated, setIsAuthenticated] = useState(false);\n    const [userName, setUserName] = useState(\"\");\n\n    useEffect(() => {\n        const auth = localStorage.getItem('isAuthenticated');\n        const name = localStorage.getItem('userName');\n        setIsAuthenticated(auth === 'true');\n        setUserName(name || '–ì–æ—Å—Ç—å');\n    }, []);\n\n    const handleLogin = () => {\n        router.push('/login');\n    };\n\n    const handleRegister = () => {\n        router.push('/register');\n    };\n\n    const handleProfile = () => {\n        router.push('/profile');\n    };\n\n    const handleLogout = () => {\n        localStorage.removeItem('isAuthenticated');\n        localStorage.removeItem('userName');\n        localStorage.removeItem('userEmail');\n        setIsAuthenticated(false);\n        setUserName('–ì–æ—Å—Ç—å');\n        router.push('/');\n    };\n\n    return (\n        <header style={{\n            position: 'sticky',\n            top: 0,\n            zIndex: 50,\n            background: 'rgba(15, 23, 42, 0.9)',\n            backdropFilter: 'blur(20px)',\n            borderBottom: '1px solid rgba(255, 255, 255, 0.1)'\n        }}>\n            <div style={{\n                maxWidth: '1200px',\n                margin: '0 auto',\n                padding: '1rem 2rem',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'space-between'\n            }}>\n\n                <div \n                    onClick={() => router.push('/dashboard')}\n                    style={{\n                        cursor: 'pointer'\n                    }}\n                >\n                    <div style={{\n                        fontSize: '1.5rem',\n                        fontWeight: '800',\n                        background: 'linear-gradient(135deg, #ec4899, #8b5cf6)',\n                        WebkitBackgroundClip: 'text',\n                        WebkitTextFillColor: 'transparent',\n                        backgroundClip: 'text'\n                    }}>\n                        Todol\n                    </div>\n                </div>\n\n\n                <nav style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '1rem'\n                }}>\n                    {isAuthenticated ? (\n                        <>\n                            <button\n                                onClick={handleProfile}\n                                style={{\n                                    padding: '0.5rem 1rem',\n                                    background: 'rgba(255, 255, 255, 0.1)',\n                                    border: '1px solid rgba(255, 255, 255, 0.2)',\n                                    borderRadius: '8px',\n                                    color: '#ffffff',\n                                    fontSize: '0.9rem',\n                                    cursor: 'pointer',\n                                    transition: 'all 0.3s ease'\n                                }}\n                                onMouseEnter={(e) => {\n                                    e.currentTarget.style.background = 'rgba(255, 255, 255, 0.2)';\n                                }}\n                                onMouseLeave={(e) => {\n                                    e.currentTarget.style.background = 'rgba(255, 255, 255, 0.1)';\n                                }}\n                            >\n                                üë§ {userName.split(' ')[0]}\n                            </button>\n                            <button\n                                onClick={handleLogout}\n                                style={{\n                                    padding: '0.5rem 1rem',\n                                    background: 'rgba(239, 68, 68, 0.2)',\n                                    border: '1px solid rgba(239, 68, 68, 0.3)',\n                                    borderRadius: '8px',\n                                    color: '#ef4444',\n                                    fontSize: '0.9rem',\n                                    cursor: 'pointer',\n                                    transition: 'all 0.3s ease'\n                                }}\n                                onMouseEnter={(e) => {\n                                    e.currentTarget.style.background = 'rgba(239, 68, 68, 0.3)';\n                                }}\n                                onMouseLeave={(e) => {\n                                    e.currentTarget.style.background = 'rgba(239, 68, 68, 0.2)';\n                                }}\n                            >\n                                –í—ã–π—Ç–∏\n                            </button>\n                        </>\n                    ) : (\n                        <>\n                            <button\n                                onClick={handleLogin}\n                                style={{\n                                    padding: '0.5rem 1rem',\n                                    background: 'rgba(255, 255, 255, 0.1)',\n                                    border: '1px solid rgba(255, 255, 255, 0.2)',\n                                    borderRadius: '8px',\n                                    color: '#ffffff',\n                                    fontSize: '0.9rem',\n                                    cursor: 'pointer',\n                                    transition: 'all 0.3s ease'\n                                }}\n                                onMouseEnter={(e) => {\n                                    e.currentTarget.style.background = 'rgba(255, 255, 255, 0.2)';\n                                }}\n                                onMouseLeave={(e) => {\n                                    e.currentTarget.style.background = 'rgba(255, 255, 255, 0.1)';\n                                }}\n                            >\n                                –í–æ–π—Ç–∏\n                            </button>\n                            <button\n                                onClick={handleRegister}\n                                style={{\n                                    padding: '0.5rem 1rem',\n                                    background: 'linear-gradient(135deg, #ec4899, #8b5cf6)',\n                                    border: 'none',\n                                    borderRadius: '8px',\n                                    color: '#ffffff',\n                                    fontSize: '0.9rem',\n                                    fontWeight: '600',\n                                    cursor: 'pointer',\n                                    transition: 'all 0.3s ease'\n                                }}\n                                onMouseEnter={(e) => {\n                                    e.currentTarget.style.transform = 'translateY(-2px)';\n                                    e.currentTarget.style.boxShadow = '0 8px 24px rgba(236, 72, 153, 0.4)';\n                                }}\n                                onMouseLeave={(e) => {\n                                    e.currentTarget.style.transform = 'translateY(0)';\n                                    e.currentTarget.style.boxShadow = 'none';\n                                }}\n                            >\n                                –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è\n                            </button>\n                            <button\n                                onClick={handleLogin}\n                                style={{\n                                    padding: '0.5rem 1rem',\n                                    background: 'rgba(255, 255, 255, 0.05)',\n                                    border: '1px solid rgba(255, 255, 255, 0.1)',\n                                    borderRadius: '8px',\n                                    color: '#94a3b8',\n                                    fontSize: '0.9rem',\n                                    cursor: 'pointer',\n                                    transition: 'all 0.3s ease'\n                                }}\n                                onMouseEnter={(e) => {\n                                    e.currentTarget.style.background = 'rgba(255, 255, 255, 0.1)';\n                                    e.currentTarget.style.color = '#ffffff';\n                                }}\n                                onMouseLeave={(e) => {\n                                    e.currentTarget.style.background = 'rgba(255, 255, 255, 0.05)';\n                                    e.currentTarget.style.color = '#94a3b8';\n                                }}\n                            >\n                                üë§ –ü—Ä–æ—Ñ–∏–ª—å\n                            </button>\n                        </>\n                    )}\n                </nav>\n            </div>\n        </header>\n    );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 272, "column": 0}, "map": {"version":3,"sources":["file:///Users/anastasiapetrova/WebstormProjects/Todol/src/components/Footer.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\n\nexport default function Footer() {\n    return (\n        <footer className=\"site-footer\">\n            <div className=\"footer-container\">\n                <div className=\"footer-content\">\n                    <div className=\"footer-section\">\n                        <h3>Todol</h3>\n                        <p>–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∂–∏–∑–Ω—å—é –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ–º —Ü–µ–ª–µ–π</p>\n                    </div>\n                    \n                    <div className=\"footer-section\">\n                        <h4>–†–∞–∑–¥–µ–ª—ã</h4>\n                        <ul>\n                            <li><Link href=\"/\">–ì–ª–∞–≤–Ω–∞—è</Link></li>\n                            <li><Link href=\"/dashboard\">–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</Link></li>\n                            <li><Link href=\"/profile\">–ü—Ä–æ—Ñ–∏–ª—å</Link></li>\n                        </ul>\n                    </div>\n                    \n                    <div className=\"footer-section\">\n                        <h4>–ü–æ–¥–¥–µ—Ä–∂–∫–∞</h4>\n                        <ul>\n                            <li><Link href=\"/help\">–ü–æ–º–æ—â—å</Link></li>\n                            <li><Link href=\"/contact\">–ö–æ–Ω—Ç–∞–∫—Ç—ã</Link></li>\n                        </ul>\n                    </div>\n                </div>\n                \n                <div className=\"footer-bottom\">\n                    <p>&copy; 2026 Todol. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>\n                </div>\n            </div>\n        </footer>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS;IACpB,qBACI,8OAAC;QAAO,WAAU;kBACd,cAAA,8OAAC;YAAI,WAAU;;8BACX,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;8CAAG;;;;;;8CACJ,8OAAC;8CAAE;;;;;;;;;;;;sCAGP,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;8CAAG;;;;;;8CACJ,8OAAC;;sDACG,8OAAC;sDAAG,cAAA,8OAAC,uKAAI;gDAAC,MAAK;0DAAI;;;;;;;;;;;sDACnB,8OAAC;sDAAG,cAAA,8OAAC,uKAAI;gDAAC,MAAK;0DAAa;;;;;;;;;;;sDAC5B,8OAAC;sDAAG,cAAA,8OAAC,uKAAI;gDAAC,MAAK;0DAAW;;;;;;;;;;;;;;;;;;;;;;;sCAIlC,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;8CAAG;;;;;;8CACJ,8OAAC;;sDACG,8OAAC;sDAAG,cAAA,8OAAC,uKAAI;gDAAC,MAAK;0DAAQ;;;;;;;;;;;sDACvB,8OAAC;sDAAG,cAAA,8OAAC,uKAAI;gDAAC,MAAK;0DAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8BAKtC,8OAAC;oBAAI,WAAU;8BACX,cAAA,8OAAC;kCAAE;;;;;;;;;;;;;;;;;;;;;;AAKvB"}},
    {"offset": {"line": 467, "column": 0}, "map": {"version":3,"sources":["file:///Users/anastasiapetrova/WebstormProjects/Todol/src/lib/auth.ts"],"sourcesContent":["const API_BASE_URL = 'http://localhost:8002/api';\n\nexport interface User {\n    id: number;\n    name: string;\n    email: string;\n    email_verified_at?: string;\n    created_at: string;\n    updated_at: string;\n}\n\nexport interface LoginRequest {\n    email: string;\n    password: string;\n}\n\nexport interface RegisterRequest {\n    name: string;\n    email: string;\n    password: string;\n    password_confirmation?: string;\n}\n\nexport interface AuthResponse {\n    user: User;\n    token: string;\n}\n\nclass AuthService {\n    private token: string | null = null;\n\n    constructor() {\n        if (typeof window !== 'undefined') {\n            this.token = localStorage.getItem('auth_token');\n        }\n    }\n\n    private async request<T>(\n        endpoint: string,\n        options: RequestInit = {}\n    ): Promise<T> {\n        const url = `${API_BASE_URL}${endpoint}`;\n        \n        const config: RequestInit = {\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json',\n                ...(this.token && { 'Authorization': `Bearer ${this.token}` }),\n                ...options.headers,\n            },\n            ...options,\n        };\n\n        try {\n            const response = await fetch(url, config);\n            \n            if (!response.ok) {\n                const errorData = await response.json().catch(() => ({}));\n                throw new Error(errorData.message || `HTTP Error: ${response.status}`);\n            }\n            \n            return await response.json();\n        } catch (error) {\n            console.error('Auth request failed:', error);\n            throw error;\n        }\n    }\n\n    async login(credentials: LoginRequest): Promise<AuthResponse> {\n        try {\n            const response = await this.request<AuthResponse>('/auth/login', {\n                method: 'POST',\n                body: JSON.stringify(credentials),\n            });\n\n            this.token = response.token;\n            if (typeof window !== 'undefined') {\n                localStorage.setItem('auth_token', response.token);\n                localStorage.setItem('user', JSON.stringify(response.user));\n            }\n\n            return response;\n        } catch (error) {\n            this.logout();\n            throw error;\n        }\n    }\n\n    async register(userData: RegisterRequest): Promise<AuthResponse> {\n        try {\n            const response = await this.request<AuthResponse>('/auth/register', {\n                method: 'POST',\n                body: JSON.stringify(userData),\n            });\n\n            this.token = response.token;\n            if (typeof window !== 'undefined') {\n                localStorage.setItem('auth_token', response.token);\n                localStorage.setItem('user', JSON.stringify(response.user));\n            }\n\n            return response;\n        } catch (error) {\n            this.logout();\n            throw error;\n        }\n    }\n\n    async logout(): Promise<void> {\n        try {\n            if (this.token) {\n                await this.request('/auth/logout', {\n                    method: 'POST',\n                });\n            }\n        } catch (error) {\n            console.error('Logout request failed:', error);\n        } finally {\n            this.token = null;\n            if (typeof window !== 'undefined') {\n                localStorage.removeItem('auth_token');\n                localStorage.removeItem('user');\n            }\n        }\n    }\n\n    async getCurrentUser(): Promise<User | null> {\n        if (!this.token) {\n            return null;\n        }\n\n        try {\n            const user = await this.request<User>('/auth/user');\n            return user;\n        } catch (error) {\n            console.error('Failed to get current user:', error);\n            this.logout();\n            return null;\n        }\n    }\n\n    getToken(): string | null {\n        return this.token;\n    }\n\n    getUserFromStorage(): User | null {\n        if (typeof window === 'undefined') return null;\n        \n        const userData = localStorage.getItem('user');\n        if (!userData) return null;\n        \n        try {\n            return JSON.parse(userData);\n        } catch {\n            return null;\n        }\n    }\n\n    isAuthenticated(): boolean {\n        return !!this.token;\n    }\n}\n\nexport const authService = new AuthService();\n"],"names":[],"mappings":";;;;AAAA,MAAM,eAAe;AA4BrB,MAAM;IACM,QAAuB,KAAK;IAEpC,aAAc;QACV;;IAGJ;IAEA,MAAc,QACV,QAAgB,EAChB,UAAuB,CAAC,CAAC,EACf;QACV,MAAM,MAAM,GAAG,eAAe,UAAU;QAExC,MAAM,SAAsB;YACxB,SAAS;gBACL,gBAAgB;gBAChB,UAAU;gBACV,GAAI,IAAI,CAAC,KAAK,IAAI;oBAAE,iBAAiB,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,EAAE;gBAAC,CAAC;gBAC7D,GAAG,QAAQ,OAAO;YACtB;YACA,GAAG,OAAO;QACd;QAEA,IAAI;YACA,MAAM,WAAW,MAAM,MAAM,KAAK;YAElC,IAAI,CAAC,SAAS,EAAE,EAAE;gBACd,MAAM,YAAY,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;gBACvD,MAAM,IAAI,MAAM,UAAU,OAAO,IAAI,CAAC,YAAY,EAAE,SAAS,MAAM,EAAE;YACzE;YAEA,OAAO,MAAM,SAAS,IAAI;QAC9B,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,wBAAwB;YACtC,MAAM;QACV;IACJ;IAEA,MAAM,MAAM,WAAyB,EAAyB;QAC1D,IAAI;YACA,MAAM,WAAW,MAAM,IAAI,CAAC,OAAO,CAAe,eAAe;gBAC7D,QAAQ;gBACR,MAAM,KAAK,SAAS,CAAC;YACzB;YAEA,IAAI,CAAC,KAAK,GAAG,SAAS,KAAK;YAC3B;;YAKA,OAAO;QACX,EAAE,OAAO,OAAO;YACZ,IAAI,CAAC,MAAM;YACX,MAAM;QACV;IACJ;IAEA,MAAM,SAAS,QAAyB,EAAyB;QAC7D,IAAI;YACA,MAAM,WAAW,MAAM,IAAI,CAAC,OAAO,CAAe,kBAAkB;gBAChE,QAAQ;gBACR,MAAM,KAAK,SAAS,CAAC;YACzB;YAEA,IAAI,CAAC,KAAK,GAAG,SAAS,KAAK;YAC3B;;YAKA,OAAO;QACX,EAAE,OAAO,OAAO;YACZ,IAAI,CAAC,MAAM;YACX,MAAM;QACV;IACJ;IAEA,MAAM,SAAwB;QAC1B,IAAI;YACA,IAAI,IAAI,CAAC,KAAK,EAAE;gBACZ,MAAM,IAAI,CAAC,OAAO,CAAC,gBAAgB;oBAC/B,QAAQ;gBACZ;YACJ;QACJ,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,0BAA0B;QAC5C,SAAU;YACN,IAAI,CAAC,KAAK,GAAG;YACb;;QAIJ;IACJ;IAEA,MAAM,iBAAuC;QACzC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;YACb,OAAO;QACX;QAEA,IAAI;YACA,MAAM,OAAO,MAAM,IAAI,CAAC,OAAO,CAAO;YACtC,OAAO;QACX,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,+BAA+B;YAC7C,IAAI,CAAC,MAAM;YACX,OAAO;QACX;IACJ;IAEA,WAA0B;QACtB,OAAO,IAAI,CAAC,KAAK;IACrB;IAEA,qBAAkC;QAC9B,wCAAmC,OAAO;;;QAE1C,MAAM;IAQV;IAEA,kBAA2B;QACvB,OAAO,CAAC,CAAC,IAAI,CAAC,KAAK;IACvB;AACJ;AAEO,MAAM,cAAc,IAAI"}},
    {"offset": {"line": 579, "column": 0}, "map": {"version":3,"sources":["file:///Users/anastasiapetrova/WebstormProjects/Todol/src/hooks/useAuth.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, createContext, useContext, ReactNode } from 'react';\nimport { authService, User, LoginRequest, RegisterRequest } from '@/lib/auth';\n\ninterface AuthContextType {\n    user: User | null;\n    token: string | null;\n    login: (credentials: LoginRequest) => Promise<void>;\n    register: (userData: RegisterRequest) => Promise<void>;\n    logout: () => void;\n    loading: boolean;\n    error: string | null;\n    isAuthenticated: boolean;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport { AuthContext };\n\nexport function useAuth() {\n    const context = useContext(AuthContext);\n    if (context === undefined) {\n        throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n}\n\ninterface AuthProviderProps {\n    children: ReactNode;\n}\n\nexport function AuthProvider({ children }: AuthProviderProps) {\n    const [user, setUser] = useState<User | null>(null);\n    const [token, setToken] = useState<string | null>(null);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState<string | null>(null);\n\n    useEffect(() => {\n        // –ü—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é\n        const storedToken = authService.getToken();\n        const storedUser = authService.getUserFromStorage();\n        \n        if (storedToken && storedUser) {\n            setToken(storedToken);\n            setUser(storedUser);\n        }\n    }, []);\n\n    const login = async (credentials: LoginRequest) => {\n        setLoading(true);\n        setError(null);\n        \n        try {\n            const response = await authService.login(credentials);\n            setUser(response.user || null);\n            setToken(response.token || null);\n        } catch (err) {\n            const errorMessage = err instanceof Error ? err.message : 'Login failed';\n            setError(errorMessage);\n            throw err;\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const register = async (userData: RegisterRequest) => {\n        setLoading(true);\n        setError(null);\n        \n        try {\n            const response = await authService.register(userData);\n            setUser(response.user || null);\n            setToken(response.token || null);\n        } catch (err) {\n            const errorMessage = err instanceof Error ? err.message : 'Registration failed';\n            setError(errorMessage);\n            throw err;\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const logout = () => {\n        authService.logout();\n        setUser(null);\n        setToken(null);\n        setError(null);\n    };\n\n    const value: AuthContextType = {\n        user,\n        token,\n        login,\n        register,\n        logout,\n        loading,\n        error,\n        isAuthenticated: !!(token && user)\n    };\n\n    return (\n        <AuthContext.Provider value={value}>\n            {children}\n        </AuthContext.Provider>\n    );\n}\n"],"names":[],"mappings":";;;;;;;;;AAEA;AACA;AAHA;;;;AAgBA,MAAM,4BAAc,IAAA,sNAAa,EAA8B;;AAIxD,SAAS;IACZ,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACvB,MAAM,IAAI,MAAM;IACpB;IACA,OAAO;AACX;AAMO,SAAS,aAAa,EAAE,QAAQ,EAAqB;IACxD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAc;IAC9C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,IAAA,kNAAS,EAAC;QACN,0CAA0C;QAC1C,MAAM,cAAc,iIAAW,CAAC,QAAQ;QACxC,MAAM,aAAa,iIAAW,CAAC,kBAAkB;QAEjD,IAAI,eAAe,YAAY;YAC3B,SAAS;YACT,QAAQ;QACZ;IACJ,GAAG,EAAE;IAEL,MAAM,QAAQ,OAAO;QACjB,WAAW;QACX,SAAS;QAET,IAAI;YACA,MAAM,WAAW,MAAM,iIAAW,CAAC,KAAK,CAAC;YACzC,QAAQ,SAAS,IAAI,IAAI;YACzB,SAAS,SAAS,KAAK,IAAI;QAC/B,EAAE,OAAO,KAAK;YACV,MAAM,eAAe,eAAe,QAAQ,IAAI,OAAO,GAAG;YAC1D,SAAS;YACT,MAAM;QACV,SAAU;YACN,WAAW;QACf;IACJ;IAEA,MAAM,WAAW,OAAO;QACpB,WAAW;QACX,SAAS;QAET,IAAI;YACA,MAAM,WAAW,MAAM,iIAAW,CAAC,QAAQ,CAAC;YAC5C,QAAQ,SAAS,IAAI,IAAI;YACzB,SAAS,SAAS,KAAK,IAAI;QAC/B,EAAE,OAAO,KAAK;YACV,MAAM,eAAe,eAAe,QAAQ,IAAI,OAAO,GAAG;YAC1D,SAAS;YACT,MAAM;QACV,SAAU;YACN,WAAW;QACf;IACJ;IAEA,MAAM,SAAS;QACX,iIAAW,CAAC,MAAM;QAClB,QAAQ;QACR,SAAS;QACT,SAAS;IACb;IAEA,MAAM,QAAyB;QAC3B;QACA;QACA;QACA;QACA;QACA;QACA;QACA,iBAAiB,CAAC,CAAC,CAAC,SAAS,IAAI;IACrC;IAEA,qBACI,8OAAC,YAAY,QAAQ;QAAC,OAAO;kBACxB;;;;;;AAGb"}},
    {"offset": {"line": 676, "column": 0}, "map": {"version":3,"sources":["file:///Users/anastasiapetrova/WebstormProjects/Todol/src/components/ClientLayout.tsx"],"sourcesContent":["\"use client\";\n\nimport { ReactNode } from 'react';\nimport Header from './Header';\nimport Footer from './Footer';\nimport { AuthProvider } from '@/hooks/useAuth';\n\ninterface ClientLayoutProps {\n    children: ReactNode;\n}\n\nexport default function ClientLayout({ children }: ClientLayoutProps) {\n    return (\n        <AuthProvider>\n            <Header />\n            <main>{children}</main>\n            <Footer />\n        </AuthProvider>\n    );\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AALA;;;;;AAWe,SAAS,aAAa,EAAE,QAAQ,EAAqB;IAChE,qBACI,8OAAC,wIAAY;;0BACT,8OAAC,uIAAM;;;;;0BACP,8OAAC;0BAAM;;;;;;0BACP,8OAAC,uIAAM;;;;;;;;;;;AAGnB"}}]
}