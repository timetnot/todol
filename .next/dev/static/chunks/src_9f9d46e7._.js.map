{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/anastasiapetrova/WebstormProjects/Todol/src/lib/api.ts"],"sourcesContent":["const API_BASE_URL = 'http://localhost:8002/api';\n\nexport interface Todo {\n    id: number;\n    title: string;\n    description?: string;\n    completed: boolean;\n    sphere_id?: number;\n    created_at: string;\n    updated_at: string;\n}\n\nexport interface CreateTodoRequest {\n    title: string;\n    description?: string;\n    completed?: boolean;\n    sphere_id?: number;\n}\n\nexport interface UpdateTodoRequest {\n    title?: string;\n    description?: string;\n    completed?: boolean;\n}\n\nclass ApiService {\n    private getAuthToken(): string | null {\n        if (typeof window === 'undefined') return null;\n        return localStorage.getItem('auth_token');\n    }\n\n    private async request<T>(\n        endpoint: string,\n        options: RequestInit = {}\n    ): Promise<T> {\n        const url = `${API_BASE_URL}${endpoint}`;\n        const token = this.getAuthToken();\n        \n        const config: RequestInit = {\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json',\n                ...(token && { 'Authorization': `Bearer ${token}` }),\n                ...options.headers,\n            },\n            ...options,\n        };\n\n        try {\n            const response = await fetch(url, config);\n            \n            if (!response.ok) {\n                if (response.status === 401) {\n                    // –¢–æ–∫–µ–Ω –∏—Å—Ç–µ–∫, —É–¥–∞–ª—è–µ–º –µ–≥–æ –∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞\n                    if (typeof window !== 'undefined') {\n                        localStorage.removeItem('auth_token');\n                        localStorage.removeItem('user');\n                        window.location.href = '/login';\n                    }\n                }\n                \n                const errorText = await response.text();\n                throw new Error(`API Error: ${response.status} - ${errorText}`);\n            }\n            \n            // –î–ª—è DELETE –∑–∞–ø—Ä–æ—Å–æ–≤ —Å 204 —Å—Ç–∞—Ç—É—Å–æ–º –≤–æ–∑–≤—Ä–∞—â–∞–µ–º null\n            if (response.status === 204) {\n                return null as T;\n            }\n            \n            return await response.json();\n        } catch (error) {\n            console.error('API Request failed:', error);\n            throw error;\n        }\n    }\n\n    // –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–¥–∞—á–∏\n    async getTodos(sphereId?: number): Promise<Todo[]> {\n        try {\n            let url = '/todos';\n            \n            // –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω sphereId, —Ñ–∏–ª—å—Ç—Ä—É–µ–º –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ (–ø–æ—Å–∫–æ–ª—å–∫—É API –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é)\n            const todos = await this.request<Todo[]>(url);\n            \n            if (sphereId) {\n                return todos.filter(todo => todo.sphere_id === sphereId);\n            }\n            \n            return todos;\n        } catch (error) {\n            console.error('Failed to fetch todos:', error);\n            // –í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ API –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤\n            return [];\n        }\n    }\n\n    // –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É\n    async createTodo(todo: CreateTodoRequest): Promise<Todo> {\n        return this.request<Todo>('/todos', {\n            method: 'POST',\n            body: JSON.stringify(todo),\n        });\n    }\n\n    // –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–¥–∞—á—É\n    async updateTodo(id: number, updates: UpdateTodoRequest): Promise<Todo> {\n        return this.request<Todo>(`/todos/${id}`, {\n            method: 'PUT',\n            body: JSON.stringify(updates),\n        });\n    }\n\n    // –£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É\n    async deleteTodo(id: number): Promise<void> {\n        return this.request<void>(`/todos/${id}`, {\n            method: 'DELETE',\n        });\n    }\n\n    // –ü–æ–ª—É—á–∏—Ç—å –æ–¥–Ω—É –∑–∞–¥–∞—á—É\n    async getTodo(id: number): Promise<Todo> {\n        return this.request<Todo>(`/todos/${id}`);\n    }\n}\n\nexport const apiService = new ApiService();\n\n// –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å localStorage –∫–∞–∫ fallback\nexport const localStorageService = {\n    getTodos: (sphereId: number): any[] => {\n        if (typeof window === 'undefined') return [];\n        const tasks = localStorage.getItem(`sphere_${sphereId}_tasks`);\n        if (!tasks) return [];\n        try {\n            return JSON.parse(tasks);\n        } catch {\n            return [];\n        }\n    },\n\n    saveTodos: (sphereId: number, todos: any[]): void => {\n        if (typeof window === 'undefined') return;\n        localStorage.setItem(`sphere_${sphereId}_tasks`, JSON.stringify(todos));\n        // –¢—Ä–∏–≥–≥–µ—Ä –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤\n        window.dispatchEvent(new Event('taskUpdated'));\n    },\n\n    // –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –º–µ–∂–¥—É —Ñ–æ—Ä–º–∞—Ç–∞–º–∏ API –∏ localStorage\n    apiToLocalStorage: (apiTodos: Todo[], sphereId: number): any[] => {\n        return apiTodos.map(todo => ({\n            id: todo.id.toString(),\n            description: todo.title,\n            isCompleted: todo.completed,\n            subtasks: todo.description ? [{\n                id: `sub-${todo.id}`,\n                description: todo.description,\n                isCompleted: todo.completed\n            }] : []\n        }));\n    },\n\n    localStorageToApi: (localTodos: any[]): CreateTodoRequest[] => {\n        return localTodos.map(todo => ({\n            title: todo.description,\n            description: todo.subtasks?.[0]?.description || '',\n            completed: todo.isCompleted\n        }));\n    }\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 146, "column": 0}, "map": {"version":3,"sources":["file:///Users/anastasiapetrova/WebstormProjects/Todol/src/hooks/useTodos.ts"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { apiService, Todo, CreateTodoRequest, UpdateTodoRequest, localStorageService } from '@/lib/api';\n\ninterface UseTodosOptions {\n    sphereId: number;\n    useApi?: boolean; // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å API –∏–ª–∏ localStorage\n}\n\nexport function useTodos({ sphereId, useApi = true }: UseTodosOptions) {\n    const [todos, setTodos] = useState<Todo[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState<string | null>(null);\n\n    // –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–¥–∞—á\n    const loadTodos = useCallback(async () => {\n        setLoading(true);\n        setError(null);\n        \n        try {\n            if (useApi) {\n                const apiTodos = await apiService.getTodos(sphereId);\n                setTodos(apiTodos);\n                \n                // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å localStorage –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏\n                const localTodos = localStorageService.apiToLocalStorage(apiTodos, sphereId);\n                localStorageService.saveTodos(sphereId, localTodos);\n            } else {\n                // Fallback –Ω–∞ localStorage\n                const localTodos = localStorageService.getTodos(sphereId);\n                const apiTodos = localStorageService.localStorageToApi(localTodos);\n                setTodos(apiTodos as Todo[]);\n            }\n        } catch (err) {\n            const errorMessage = err instanceof Error ? err.message : 'Failed to load todos';\n            setError(errorMessage);\n            \n            // –í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º localStorage –∫–∞–∫ fallback\n            if (useApi) {\n                const localTodos = localStorageService.getTodos(sphereId);\n                const apiTodos = localStorageService.localStorageToApi(localTodos);\n                setTodos(apiTodos as Todo[]);\n            }\n        } finally {\n            setLoading(false);\n        }\n    }, [sphereId, useApi]);\n\n    // –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏\n    const createTodo = useCallback(async (todoData: CreateTodoRequest) => {\n        try {\n            if (useApi) {\n                // –î–æ–±–∞–≤–ª—è–µ–º sphere_id –∫ –¥–∞–Ω–Ω—ã–º –∑–∞–¥–∞—á–∏\n                const todoWithSphere = {\n                    ...todoData,\n                    sphere_id: sphereId\n                };\n                \n                const newTodo = await apiService.createTodo(todoWithSphere);\n                setTodos(prev => [newTodo, ...prev]);\n                \n                // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å localStorage\n                const localTodos = localStorageService.apiToLocalStorage([newTodo, ...todos], sphereId);\n                localStorageService.saveTodos(sphereId, localTodos);\n                \n                // –¢—Ä–∏–≥–≥–µ—Ä –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ dashboard\n                window.dispatchEvent(new Event('taskUpdated'));\n                \n                return newTodo;\n            } else {\n                // –î–ª—è localStorage –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –ª–æ–≥–∏–∫—É\n                const newId = Date.now();\n                const newTodo: Todo = {\n                    id: newId,\n                    title: todoData.title,\n                    description: todoData.description,\n                    completed: todoData.completed || false,\n                    sphere_id: sphereId,\n                    created_at: new Date().toISOString(),\n                    updated_at: new Date().toISOString()\n                };\n                setTodos(prev => [newTodo, ...prev]);\n                \n                const localTodos = localStorageService.apiToLocalStorage([newTodo, ...todos], sphereId);\n                localStorageService.saveTodos(sphereId, localTodos);\n                \n                // –¢—Ä–∏–≥–≥–µ—Ä –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ dashboard\n                window.dispatchEvent(new Event('taskUpdated'));\n                \n                return newTodo;\n            }\n        } catch (err) {\n            const errorMessage = err instanceof Error ? err.message : 'Failed to create todo';\n            setError(errorMessage);\n            throw err;\n        }\n    }, [sphereId, useApi, todos]);\n\n    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏\n    const updateTodo = useCallback(async (id: number, updates: UpdateTodoRequest) => {\n        try {\n            if (useApi) {\n                const updatedTodo = await apiService.updateTodo(id, updates);\n                setTodos(prev => prev.map(todo => \n                    todo.id === id ? updatedTodo : todo\n                ));\n                \n                // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å localStorage\n                const updatedTodos = todos.map(todo => \n                    todo.id === id ? updatedTodo : todo\n                );\n                const localTodos = localStorageService.apiToLocalStorage(updatedTodos, sphereId);\n                localStorageService.saveTodos(sphereId, localTodos);\n                \n                // –¢—Ä–∏–≥–≥–µ—Ä –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ dashboard\n                window.dispatchEvent(new Event('taskUpdated'));\n                \n                return updatedTodo;\n            } else {\n                const updatedTodo: Todo = {\n                    ...todos.find(t => t.id === id)!,\n                    ...updates,\n                    updated_at: new Date().toISOString()\n                };\n                setTodos(prev => prev.map(todo => \n                    todo.id === id ? updatedTodo : todo\n                ));\n                \n                const updatedTodos = todos.map(todo => \n                    todo.id === id ? updatedTodo : todo\n                );\n                const localTodos = localStorageService.apiToLocalStorage(updatedTodos, sphereId);\n                localStorageService.saveTodos(sphereId, localTodos);\n                \n                // –¢—Ä–∏–≥–≥–µ—Ä –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ dashboard\n                window.dispatchEvent(new Event('taskUpdated'));\n                \n                return updatedTodo;\n            }\n        } catch (err) {\n            const errorMessage = err instanceof Error ? err.message : 'Failed to update todo';\n            setError(errorMessage);\n            throw err;\n        }\n    }, [sphereId, useApi, todos]);\n\n    // –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏\n    const deleteTodo = useCallback(async (id: number) => {\n        try {\n            if (useApi) {\n                await apiService.deleteTodo(id);\n                setTodos(prev => prev.filter(todo => todo.id !== id));\n                \n                // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å localStorage\n                const updatedTodos = todos.filter(todo => todo.id !== id);\n                const localTodos = localStorageService.apiToLocalStorage(updatedTodos, sphereId);\n                localStorageService.saveTodos(sphereId, localTodos);\n                \n                // –¢—Ä–∏–≥–≥–µ—Ä –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ dashboard\n                window.dispatchEvent(new Event('taskUpdated'));\n            } else {\n                setTodos(prev => prev.filter(todo => todo.id !== id));\n                \n                const updatedTodos = todos.filter(todo => todo.id !== id);\n                const localTodos = localStorageService.apiToLocalStorage(updatedTodos, sphereId);\n                localStorageService.saveTodos(sphereId, localTodos);\n                \n                // –¢—Ä–∏–≥–≥–µ—Ä –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ dashboard\n                window.dispatchEvent(new Event('taskUpdated'));\n            }\n        } catch (err) {\n            const errorMessage = err instanceof Error ? err.message : 'Failed to delete todo';\n            setError(errorMessage);\n            throw err;\n        }\n    }, [sphereId, useApi, todos]);\n\n    // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è\n    const toggleTodo = useCallback(async (id: number) => {\n        const todo = todos.find(t => t.id === id);\n        if (!todo) return;\n        \n        return updateTodo(id, { completed: !todo.completed });\n    }, [todos, updateTodo]);\n\n    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏\n    useEffect(() => {\n        loadTodos();\n    }, [loadTodos]);\n\n    // –°–ª—É—à–∞—Ç–µ–ª—å —Å–æ–±—ã—Ç–∏–π localStorage –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏\n    useEffect(() => {\n        const handleStorageChange = () => {\n            if (!useApi) {\n                loadTodos();\n            }\n        };\n        \n        window.addEventListener('taskUpdated', handleStorageChange);\n        window.addEventListener('storage', handleStorageChange);\n        \n        return () => {\n            window.removeEventListener('taskUpdated', handleStorageChange);\n            window.removeEventListener('storage', handleStorageChange);\n        };\n    }, [loadTodos, useApi]);\n\n    return {\n        todos,\n        loading,\n        error,\n        createTodo,\n        updateTodo,\n        deleteTodo,\n        toggleTodo,\n        refreshTodos: loadTodos\n    };\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 422, "column": 0}, "map": {"version":3,"sources":["file:///Users/anastasiapetrova/WebstormProjects/Todol/src/app/areas/5/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useRouter } from \"next/navigation\";\nimport { type DragEvent, useState, useEffect } from \"react\";\nimport { useTodos } from \"@/hooks/useTodos\";\nimport \"../../../styles/nutrition.css\";\n\nconst nutritionSphereConfig = {\n    title: \"–ü–∏—Ç–∞–Ω–∏–µ\",\n    icon: \"ü•ó\",\n    accentColor: \"#f97316\"\n} as const;\n\ntype SubTaskItem = {\n    id: number;\n    description: string;\n    isCompleted: boolean\n};\n\ntype MainTask = {\n    id: number;\n    description: string;\n    isCompleted: boolean;\n    subtasks: SubTaskItem[];\n    areSubtasksVisible: boolean;\n};\n\nexport default function NutritionSphere() {\n    const router = useRouter();\n    const [newMainTaskDescription, setNewMainTaskDescription] = useState(\"\");\n    const [newSubTaskDescription, setNewSubTaskDescription] = useState(\"\");\n    const [mainTasksList, setMainTasksList] = useState<MainTask[]>([]);\n    \n    // –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–∞—à –Ω–æ–≤—ã–π —Ö—É–∫ —Å API –¥–ª—è —Å—Ñ–µ—Ä—ã 5 (–ü–∏—Ç–∞–Ω–∏–µ)\n    const { todos, loading, error, createTodo, updateTodo, deleteTodo, toggleTodo } = useTodos({ \n        sphereId: 5, \n        useApi: true \n    });\n\n    // –û–±–Ω–æ–≤–ª—è–µ–º mainTasksList –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ todos –∏–∑ API\n    useEffect(() => {\n        const convertedTasks: MainTask[] = todos.map(todo => ({\n            id: todo.id,\n            description: todo.title,\n            isCompleted: todo.completed,\n            subtasks: todo.description ? [{\n                id: todo.id + 1000,\n                description: todo.description,\n                isCompleted: todo.completed\n            }] : [],\n            areSubtasksVisible: false\n        }));\n        setMainTasksList(convertedTasks);\n    }, [todos]);\n\n    const createMainTask = async () => {\n        if (newMainTaskDescription.trim()) {\n            try {\n                await createTodo({\n                    title: newMainTaskDescription,\n                    description: newSubTaskDescription.trim() || undefined,\n                    completed: false\n                });\n                setNewMainTaskDescription(\"\");\n                setNewSubTaskDescription(\"\");\n            } catch (error) {\n                console.error('Failed to create task:', error);\n            }\n        }\n    };\n\n    const createSubTask = (parentTaskId: number) => {\n        if (newSubTaskDescription.trim()) {\n            setMainTasksList(prevTasks =>\n                prevTasks.map(task =>\n                    task.id === parentTaskId\n                        ? {\n                            ...task,\n                            subtasks: [\n                                ...task.subtasks,\n                                {\n                                    id: Date.now(),\n                                    description: newSubTaskDescription,\n                                    isCompleted: false\n                                }\n                            ],\n                            areSubtasksVisible: true\n                        }\n                        : task\n                )\n            );\n            setNewSubTaskDescription(\"\");\n        }\n    };\n\n    const toggleMainTaskCompletion = async (taskId: number) => {\n        try {\n            await toggleTodo(taskId);\n        } catch (error) {\n            console.error('Failed to toggle task:', error);\n        }\n    };\n\n    const toggleSubTaskCompletion = (parentTaskId: number, subTaskId: number) => {\n        setMainTasksList(prevTasks =>\n            prevTasks.map(task =>\n                task.id === parentTaskId\n                    ? {\n                        ...task,\n                        subtasks: task.subtasks.map(subTask =>\n                            subTask.id === subTaskId\n                                ? { ...subTask, isCompleted: !subTask.isCompleted }\n                                : subTask\n                        )\n                    }\n                    : task\n            )\n        );\n    };\n\n    const toggleSubtasksVisibility = (taskId: number) => {\n        setMainTasksList(prevTasks =>\n            prevTasks.map(task =>\n                task.id === taskId\n                    ? { ...task, areSubtasksVisible: !task.areSubtasksVisible }\n                    : task\n            )\n        );\n    };\n\n    const removeMainTask = async (taskId: number) => {\n        try {\n            await deleteTodo(taskId);\n        } catch (error) {\n            console.error('Failed to delete task:', error);\n        }\n    };\n\n    const removeSubTask = (parentTaskId: number, subTaskId: number) => {\n        setMainTasksList(prevTasks =>\n            prevTasks.map(task =>\n                task.id === parentTaskId\n                    ? {\n                        ...task,\n                        subtasks: task.subtasks.filter(\n                            subTask => subTask.id !== subTaskId\n                        )\n                    }\n                    : task\n            )\n        );\n    };\n\n    const moveTask = (dragIndex: number, dropIndex: number) => {\n        if (dragIndex === dropIndex) return;\n\n        setMainTasksList(prevTasks => {\n            const newTasks = [...prevTasks];\n            const draggedTask = newTasks[dragIndex];\n            newTasks.splice(dragIndex, 1);\n            newTasks.splice(dropIndex, 0, draggedTask);\n            return newTasks;\n        });\n    };\n\n    const handleDragStart = (e: DragEvent<HTMLLIElement>, index: number) => {\n        e.dataTransfer.setData(\"text/plain\", index.toString());\n        e.dataTransfer.effectAllowed = \"move\";\n    };\n\n    const handleDragOver = (e: DragEvent<HTMLLIElement>) => {\n        e.preventDefault();\n        e.dataTransfer.dropEffect = \"move\";\n    };\n\n    const handleDrop = (e: DragEvent<HTMLLIElement>, dropIndex: number) => {\n        e.preventDefault();\n        const dragIndex = Number(e.dataTransfer.getData(\"text/plain\"));\n        if (!Number.isFinite(dragIndex)) return;\n        moveTask(dragIndex, dropIndex);\n    };\n\n    if (loading) {\n        return (\n            <div style={{ \n                minHeight: '100vh', \n                background: 'linear-gradient(180deg, #0f172a 0%, #000 100%)', \n                display: 'flex', \n                alignItems: 'center', \n                justifyContent: 'center',\n                color: '#ffffff'\n            }}>\n                <div>–ó–∞–≥—Ä—É–∑–∫–∞...</div>\n            </div>\n        );\n    }\n\n    if (error) {\n        return (\n            <div style={{ \n                minHeight: '100vh', \n                background: 'linear-gradient(180deg, #0f172a 0%, #000 100%)', \n                display: 'flex', \n                alignItems: 'center', \n                justifyContent: 'center',\n                color: '#ffffff'\n            }}>\n                <div>–û—à–∏–±–∫–∞: {error}</div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"sphere-page\">\n            <div className=\"bg-aurora\" />\n            <header className=\"header-simple\">\n                <button className=\"back-btn\" onClick={() => router.back()}>\n                    ‚Üê\n                </button>\n                <div className=\"hero-compact\">\n                    <div className=\"hero-icon\">{nutritionSphereConfig.icon}</div>\n                    <h1>{nutritionSphereConfig.title}</h1>\n                </div>\n            </header>\n\n            <main className=\"main-content\">\n                <div className=\"tasks-container\">\n                    {mainTasksList.length === 0 ? (\n                        <div className=\"empty-state\">\n                            <p>–°–æ–∑–¥–∞–π –ø–µ—Ä–≤—É—é –∑–∞–¥–∞—á—É –¥–ª—è –ø–∏—Ç–∞–Ω–∏—è</p>\n                        </div>\n                    ) : (\n                        <div className=\"tasks-scrollable\">\n                            <ul className=\"tasks-list\">\n                                {mainTasksList.map((task, index) => (\n                                    <li\n                                        key={task.id}\n                                        className=\"task-item\"\n                                        draggable\n                                        onDragStart={e => handleDragStart(e, index)}\n                                        onDragOver={handleDragOver}\n                                        onDrop={e => handleDrop(e, index)}\n                                    >\n                                        <div className=\"task-main\">\n                                            <label className=\"task-checkbox\">\n                                                <input\n                                                    type=\"checkbox\"\n                                                    checked={task.isCompleted}\n                                                    onChange={() =>\n                                                        toggleMainTaskCompletion(task.id)\n                                                    }\n                                                />\n                                                <span className=\"custom-checkbox\" />\n                                                <span\n                                                    className={`task-text ${\n                                                        task.isCompleted ? \"done\" : \"\"\n                                                    }`}\n                                                >\n                                                    {task.description}\n                                                    {task.subtasks.length > 0 && (\n                                                        <span\n                                                            style={{\n                                                                opacity: 0.7,\n                                                                fontSize: \"0.8em\",\n                                                                marginLeft: \"0.5rem\",\n                                                                fontWeight: 500\n                                                            }}\n                                                        >\n                                                            ({task.subtasks.length})\n                                                        </span>\n                                                    )}\n                                                </span>\n                                            </label>\n                                            <div className=\"task-actions\">\n                                                <button\n                                                    className=\"subtasks-toggle\"\n                                                    onClick={() =>\n                                                        toggleSubtasksVisibility(task.id)\n                                                    }\n                                                >\n                                                    {task.areSubtasksVisible ? \"‚àí\" : \"+\"}\n                                                </button>\n                                                <button\n                                                    className=\"delete-btn\"\n                                                    onClick={() =>\n                                                        removeMainTask(task.id)\n                                                    }\n                                                >\n                                                    √ó\n                                                </button>\n                                            </div>\n                                        </div>\n                                        <div\n                                            className={`subtasks-content ${\n                                                task.areSubtasksVisible ? \"expanded\" : \"\"\n                                            }`}\n                                        >\n                                            {task.subtasks.length > 0 && (\n                                                <ul className=\"subtasks-list\">\n                                                    {task.subtasks.map(subTask => (\n                                                        <li\n                                                            key={subTask.id}\n                                                            className=\"subtask-item\"\n                                                        >\n                                                            <label className=\"subtask-checkbox\">\n                                                                <input\n                                                                    type=\"checkbox\"\n                                                                    checked={\n                                                                        subTask.isCompleted\n                                                                    }\n                                                                    onChange={() =>\n                                                                        toggleSubTaskCompletion(\n                                                                            task.id,\n                                                                            subTask.id\n                                                                        )\n                                                                    }\n                                                                />\n                                                                <span className=\"custom-subcheckbox\" />\n                                                                <span\n                                                                    className={`subtask-text ${\n                                                                        subTask.isCompleted\n                                                                            ? \"done\"\n                                                                            : \"\"\n                                                                    }`}\n                                                                >\n                                                                    {subTask.description}\n                                                                </span>\n                                                            </label>\n                                                            <button\n                                                                className=\"delete-sub-btn\"\n                                                                onClick={() =>\n                                                                    removeSubTask(\n                                                                        task.id,\n                                                                        subTask.id\n                                                                    )\n                                                                }\n                                                            >\n                                                                √ó\n                                                            </button>\n                                                        </li>\n                                                    ))}\n                                                </ul>\n                                            )}\n\n                                            <div className=\"add-subtask-section\">\n                                                <input\n                                                    className=\"subtask-input\"\n                                                    value={newSubTaskDescription}\n                                                    onChange={e =>\n                                                        setNewSubTaskDescription(\n                                                            e.target.value\n                                                        )\n                                                    }\n                                                    placeholder=\"–ü–æ–¥–∑–∞–¥–∞—á–∞...\"\n                                                    onKeyDown={e =>\n                                                        e.key === \"Enter\" &&\n                                                        createSubTask(task.id)\n                                                    }\n                                                />\n                                                <button\n                                                    className=\"add-sub-btn\"\n                                                    onClick={() =>\n                                                        createSubTask(task.id)\n                                                    }\n                                                >\n                                                    –î–æ–±–∞–≤–∏—Ç—å\n                                                </button>\n                                            </div>\n                                        </div>\n                                    </li>\n                                ))}\n                            </ul>\n                        </div>\n                    )}\n                </div>\n                \n                <div className=\"add-task-section\">\n                    <input\n                        className=\"task-input\"\n                        value={newMainTaskDescription}\n                        onChange={e =>\n                            setNewMainTaskDescription(e.target.value)\n                        }\n                        placeholder=\"–ù–∞–ø—Ä–∏–º–µ—Ä: –°–æ—Å—Ç–∞–≤–∏—Ç—å –º–µ–Ω—é –Ω–∞ –Ω–µ–¥–µ–ª—é\"\n                        onKeyDown={e => e.key === \"Enter\" && createMainTask()}\n                    />\n                    <button className=\"add-btn\" onClick={createMainTask}>\n                        –î–æ–±–∞–≤–∏—Ç—å\n                    </button>\n                </div>\n            </main>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}